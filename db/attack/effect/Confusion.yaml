---
effects:
  - effect: dev.dankins.javamon.battle.data.attack.effect.CustomStatus
    name: Confusion
    target: TARGET
    events:
      onEffectInit:
        - effect: dev.dankins.javamon.battle.data.attack.effect.SetCounter
          target: TARGET
          counter: CONFUSION
          value:
            evaluator: dev.dankins.javamon.battle.data.attack.evaluator.RandomRange
            max: 5
            min: 2
        - effect: dev.dankins.javamon.battle.data.attack.effect.Display
          text: $target became confused!
      onAttackBegin:
        - effect: dev.dankins.javamon.battle.data.attack.effect.Display
          text: $target is confused!
        - effect: dev.dankins.javamon.battle.data.attack.effect.SetCounter
          target: TARGET
          counter: CONFUSION
          value:
            evaluator: dev.dankins.javamon.battle.data.attack.evaluator.Decrement
            value:
              evaluator: dev.dankins.javamon.battle.data.attack.evaluator.Counter
              target: TARGET
              counter: CONFUSION
        - effect: dev.dankins.javamon.battle.data.attack.effect.Conditional
          if:
            - requirement: dev.dankins.javamon.battle.data.attack.require.CheckCounter
              target: TARGET
              counters:
                CONFUSION: 0
          then:
            - effect: dev.dankins.javamon.battle.data.attack.effect.RemoveCustomStatus
              name: Confusion
              target: TARGET
            - effect: dev.dankins.javamon.battle.data.attack.effect.Display
              text: $target snapped out of confusion!
          else:
            - effect: dev.dankins.javamon.battle.data.attack.effect.Chance
              chance: 33
              effects:
                - effect: dev.dankins.javamon.battle.data.attack.effect.Cancel
                - effect: dev.dankins.javamon.battle.data.attack.effect.Display
                  text: $target hurt itself in confusion!
                - effect: dev.dankins.javamon.battle.data.attack.effect.Damage
                  power: 40
                  damageType: PHYSICAL