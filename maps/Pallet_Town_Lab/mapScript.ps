!Set:Pallet_Town_Lab_Barrier
!Branch:OakInLab Pallet_Town_Oak_Encounter
!Goto:CheckBlueInLab
@OakInLab
!Unhide:Pallet_Town_Lab_Oak

@CheckBlueInLab
!Branch:BlueNotInLab First_Rival_Battle
!Goto:CheckBlueFacing
@BlueNotInLab
!Hide:Pallet_Town_Lab_Rival

@CheckBlueFacing
!Branch:BlueLookingNorth Pallet_Town_Lab_Choose_Pokemon
!Goto:CheckBlueAtPokeballs
@BlueLookingNorth
!Face:Pallet_Town_Lab_Rival N
!Unset:Pallet_Town_Lab_Barrier

@CheckBlueAtPokeballs
!Branch:BlueAtPokeballs Pallet_Town_Lab_Rival_Battle
!Goto:CheckHidePokeballs
@BlueAtPokeballs
!Unset:Pallet_Town_Lab_Barrier
!Branch:BlueAtChar Bulbasaur_Starter
!Branch:BlueAtSquirt Charmander_Starter
!Branch:BlueAtBulb Squirtle_Starter
!Goto:CheckHidePokeballs
@BlueAtChar
!Move:Pallet_Town_Lab_Rival 7 8 1
!Goto:CheckHidePokeballs
@BlueAtSquirt
!Move:Pallet_Town_Lab_Rival 8 8 1
!Goto:CheckHidePokeballs
@BlueAtBulb
!Move:Pallet_Town_Lab_Rival 9 8 1

@CheckHidePokeballs
!Branch:HideBulb Bulbasaur_Starter
!Branch:HideChar Charmander_Starter
!Branch:HideSquirt Squirtle_Starter
!Goto:CheckHidePokedex
@HideSquirt
!Hide:Pallet_Town_Lab_Bulbasaur
!Hide:Pallet_Town_Lab_Squirtle
!Goto:CheckHidePokedex
@HideBulb
!Hide:Pallet_Town_Lab_Bulbasaur
!Hide:Pallet_Town_Lab_Charmander
!Goto:CheckHidePokedex
@HideChar
!Hide:Pallet_Town_Lab_Charmander
!Hide:Pallet_Town_Lab_Squirtle

@CheckHidePokedex
!Branch:HasPokedex Has_Pokedex
!Goto:End
@HasPokedex
!Hide:Pallet_Town_Lab_Pokedex_1
!Hide:Pallet_Town_Lab_Pokedex_2

@End
!Stop:
